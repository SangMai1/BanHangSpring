<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/main-layout}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/css/StyleRegisterSlides.css">
<link rel="stylesheet" type="text/css" href="/css/StyleViewSlides.css">

  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script type="text/javascript" th:src="@{/js/Slides-view.js}"></script>
</head>
<body>
<section class="main__content" layout:fragment="content">
	<div class="container">
		<h4>Danh sách slides</h4>
		<hr>

		<button type="submit" class="btn btn-primary" data-toggle="modal" data-target="#myModal" id="bnn"><i class="fas fa-plus-circle"></i></button>
		<button class="btn btn-primary buttonDelete"><i class="fas fa-trash-alt"></i></button>

		<!-- The Modal Add New-->
		<div class="modal" id="myModal">
			<div class="modal-dialog">
				<div class="modal-content">

					<!-- Modal Header -->
					<div class="modal-header">
						<h4>Thêm mới slide</h4>
						<button type="button" class="close" data-dismiss="modal">&times;</button>
					</div>
					<div id="model-body"></div>
					<div class="modal-footer">

					</div>
				</div>
			</div>
		</div>
		
		<form th:action="@{'/slides/dataSearch'}" id="dataSearch">
 			<input type="text" class="main__menu-search-form-input1" name="keyword" th:value="${session.NAMEVT}" placeholder="Search...">
         	<button class="main__menu-search-form-button1" id="search">Search</button>
					

		</form>
		<th:block th:if="${#lists.isEmpty(SLIDESS.pageList)}">
			<h2>Không có slides</h2>
		</th:block>
		
				<th:block th:unless="${#lists.isEmpty(SLIDESS.pageList)}">
			
				<div class="sang">
					<form th:action="@{/slides/del}" method="get" id="formDelete">
						
						<table class="table table-bordered">
							<thead>
								<tr>
									<th>Id</th>
									<th>Hình ảnh</th>
									<th>Mã slides</th>
									<th>Tên slides</th>
									<th>Select</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="sl, iterStat: ${SLIDESS.pageList}">
								
									<td th:text="${iterStat.count}"></td>
									<td>
										<img th:src="@{${sl.getSlidesImagePath()}}"/>
									</td>
									<td th:text="${sl.maslides}"></td>
									<td th:text="${sl.tenslides}"></td>
								
									<td>
										<a class="btn btn-primary edit" th:href="${'/slides/slides-update/' + sl.id}" data-toggle="modal" data-target="#myEdit"><i class="fas fa-edit"></i></a>										
										<a class="btn btn-primary chi" th:href="@{/slides/slides-chitiet/}" data-toggle="modal" data-target="#myChitiet" th:attrappend="data-target=${sl.id}"><i class="fas fa-eye"></i></a>
											
									
											<!-- The Modal Chi tiet -->
											 <div class="modal" id="myChitiet" th:attrappend="id=${sl.id}">
											    <div class="modal-dialog">
											      <div class="modal-content chitiet">
											      
											        <!-- Modal Header -->
											        <div class="modal-header">
											          <h4>Chi tiet</h4>
											          <button type="button" class="close" data-dismiss="modal">&times;</button>
											        </div>
											        <div id="chitiet-body">
														<table class="table table-bordered">
															<tr>
																<th>Id</th>
																<td th:text="${sl.id}"></td>
															</tr>
															<tr>
																<th>Hình ảnh</th>
																<td>
																	<img th:src="@{${sl.getSlidesImagePath()}}"/>
																</td>																
															</tr>
															<tr>
																<th>Mã Slides</th>
																<td th:text="${sl.maslides}"></td>																															
															</tr>
															<tr>
																<th>Tên Slides</th>
																<td th:text="${sl.tenslides}"></td>
															</tr>
															<tr>
																<th>Createday</th>
																<td th:text="${sl.createday}"></td>
															</tr>
															<tr>
																<th>Createby</th>
																<td th:text="${sl.createby}"></td>
															</tr>
															<tr>
																<th>Updateday</th>
																<td th:text="${sl.updateday}"></td>
															</tr>
															<tr>
																<th>Updateby</th>
																<td th:text="${sl.updateby}"></td>
															</tr>
			
															
														</table>
											        </div>
											        <div class="modal-footer">
											          
											        </div>
												  </div>
											   </div>
											</div>
											
											<input type="checkbox" id="allDelete" name="lsp[]" th:value="${sl.id}"/>
											
					
											
									</td>
									
								</tr>
							</tbody>
						</table>
					</form>
				</div>

					<p class="showcount" th:text="'Record: ' + ${sum}"></p>
					<p class="showin" th:text="'Show '+ ${pageNumber} + ' in ' + ${totalPageCount}"></p>
									
				<!-- phan trang-->
				<ul class="pagination">
					<li
						th:class="${currentIndex == 1} ? 'page-item disabled' : 'page-item'">
						<a class="page-link" th:href="@{/slides/list}">First</a>
					</li>
					<li
						th:class="${currentIndex == 1} ? 'page-item disabled' : 'page-item'">
						<a class="page-link" aria-label="Previous"
						th:href="@{|/slides${baseUrl}${currentIndex - 1}|}"
						title='Go to previous page'> <span aria-hidden="true"><<</span>
							<span class="sr-only">Previous</span></a>
					</li>
					<li th:each="item: ${#numbers.sequence(beginIndex, endIndex)}"
						th:class="${item == currentIndex ? 'page-item active' : 'page-item'}">
						<a class="page-link" th:href="@{|/slides${baseUrl}${item}|}">
							<span th:text='${item}'>1</span>
					</a>
					</li>
					<li
						th:class="${currentIndex == totalPageCount} ? 'page-item disabled' : 'page-item'">
						<a class="page-link" aria-label="Next"
						th:href="@{|/slides${baseUrl}${currentIndex + 1}|}"
						title='Go to next page'> <span aria-hidden="true">>></span> <span
							class="sr-only">Next</span></a>
					</li>
					<li
						th:class="${currentIndex == totalPageCount} ? 'page-item disabled' : 'page-item'">
						<a class="page-link"
						th:href="@{|/slides${baseUrl}${totalPageCount}|}">Last</a>
					</li>
				</ul>
			
		</th:block>
				
				<!-- The Modal Edit -->
				 <div class="modal" tabindex="-1" role="dialog" id="myEdit">
				    <div class="modal-dialog">
				      <div class="modal-content">
				      
				        <!-- Modal Header -->
				        <div class="modal-header">
				          <h4>Edit sản phẩm</h4>
				          <button type="button" class="close" data-dismiss="modal">&times;</button>
				        </div>
				        <div id="edit-body">
				       
				        </div>
				        <div class="modal-footer">
				          
				        </div>
					  </div>
				   </div>
				</div>				

				<!-- The Modal Delete -->
				<div class="modal" tabindex="-1" role="dialog" id="myDelete">
				    <div class="modal-dialog">
				      <div class="modal-content">
				      
				        <!-- Modal Header -->
				        <div class="modal-header">
				          
				          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				          	<span aria-hidden="true">&times;</span>
				          </button>
				        </div>
				        <div id="delete-body">
				        		<h4>Are you sure you want to delete this record?</h4>
								
				 
				        </div>
				        <div class="modal-footer">
				          <button type="button" id="delRef" class="btn btn-primary ">Yes, delete</button>
				          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
				        </div>
					  </div>
				   </div>
				</div>
	</div>
				
	</section>
</body>
</html>